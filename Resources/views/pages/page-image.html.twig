{% extends "AcmeGroupLaboBundle::sitePage.html.twig" %}
{% block title %}{{ parent() }} - {{ action|capitalize }} {{ entiteName }}{% endblock %}

{% block main_contain %}
{% set ROUTE = 'labo_page_imageByType' %}
<div class="row">
	{% if action != 'liste' %}{% set action2 = 'annule' %}{% else %}{% set action2 = action %}{% endif %}
	{% include "AcmeGroupLaboBundle:bloc:page-header.html.twig" %}
	<!-- Corps complet -->
	{% if action == "liste" %}
	{% include ":common:pagination.html.twig" with {"liste": ["nom","descriptif"]} %}
	<div class="panel panel-default table-responsive">
	<!-- Default panel contents -->
		<div class="panel-heading">
			<span class="badge">{{ pag.nbtot }}</span> {{ entiteName }}{{ plur(dataEntite) }} trouvé{{ plur(dataEntite) }}{% if pag.nbpage > 0 %} - page {{ pag.page }}/{{ pag.nbpage }} - {{ pag.lignes }} {{ entiteName }}s par page{% endif %}
			<a class="btn btn-warning btn-xs" href="{{ url(ROUTE, {action: 'creation', type: type}) }}">Créer nouveau : {{ entiteName }}</a>
		</div>
		{% if pag.nbpage > 0 %}
		<table class="table table-bordered table-striped">
			<thead>
				<tr>
					<th>Image</th>
					<th>Actions</th>
					<th>Nom</th>
					<th>Descriptif</th>
					<th>Création</th>
					<th>Modif.</th>
					<th>Statut</th>
				</tr>
			</thead>
			<tbody>
			{% for ligne in dataEntite %}
				{% include "AcmeGroupLaboBundle:bloc:listeImageLigne.html.twig" %}
			{% endfor %}
			</tbody>
		</table>
		{% endif %}
	</div>

	{% else %}

	{% form_theme form 'AcmeGroupLaboBundle:Form:bootstrap-override.html.twig' %}

	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<form method="post" class="form" role="form" {{ form_enctype(form) }}>
					{{ form_widget(form) }}
					<div class="row col-md-12">
						<input type="submit" class="btn btn-primary btn-lg btn-block" value="Enregistrer" />
					</div>
				</form>
			</div>
		</div>
	</div>

	{% endif %}

</div>
{% endblock %}